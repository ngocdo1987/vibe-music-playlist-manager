<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Audio Player</title>
    
    <!-- Font: Source Code Pro (Monospace) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --term-green: #33ff00;
            --term-dim: #1a8000;
            --term-bg: #0a0a0a;
            --term-alert: #ff3333;
            
            --font-code: 'Source Code Pro', monospace;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
            font-family: var(--font-code);
            color: var(--term-green);
            overflow: hidden;
        }

        /* --- CRT Effects --- */
        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 4px, 6px 100%;
            pointer-events: none;
            z-index: 100;
        }
        
        .crt-flicker {
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0% { opacity: 0.97; }
            100% { opacity: 1; }
        }

        /* --- Monitor Bezel --- */
        .monitor-case {
            width: 700px;
            background: #111;
            padding: 20px 20px 40px 20px; /* Thicker bottom bezel */
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(51, 255, 0, 0.1);
            position: relative;
        }
        
        .monitor-screen {
            background-color: var(--term-bg);
            border: 2px solid #333;
            border-radius: 4px;
            padding: 20px;
            height: 500px;
            overflow-y: auto;
            position: relative;
            box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
            text-shadow: 0 0 4px var(--term-green);
        }

        /* Scrollbar */
        .monitor-screen::-webkit-scrollbar { width: 8px; }
        .monitor-screen::-webkit-scrollbar-track { background: #000; }
        .monitor-screen::-webkit-scrollbar-thumb { background: var(--term-dim); border: 1px solid var(--term-green); }

        /* --- ASCII Art Header --- */
        .ascii-header {
            white-space: pre;
            font-size: 10px;
            line-height: 10px;
            color: var(--term-green);
            margin-bottom: 20px;
            border-bottom: 1px dashed var(--term-dim);
            padding-bottom: 10px;
            overflow-x: hidden;
        }

        /* --- System Stats / Visualizer --- */
        .system-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 0.8rem;
            color: var(--term-dim);
        }

        .equalizer {
            display: flex;
            gap: 4px;
            align-items: flex-end;
            height: 40px;
        }

        .eq-bar {
            width: 8px;
            background: var(--term-dim);
            transition: height 0.1s, background 0.2s;
        }
        
        .eq-bar.active {
            background: var(--term-green);
            box-shadow: 0 0 5px var(--term-green);
        }

        /* --- Track Info --- */
        .track-info {
            margin-bottom: 30px;
            border: 1px solid var(--term-dim);
            padding: 15px;
            background: rgba(51, 255, 0, 0.05);
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--term-dim);
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.2rem;
            font-weight: bold;
            min-height: 1.5em;
            position: relative;
        }

        /* Blinking Cursor */
        .cursor {
            display: inline-block;
            width: 10px;
            height: 1.2rem;
            background: var(--term-green);
            vertical-align: middle;
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* --- Progress Bar --- */
        .progress-container {
            margin-bottom: 30px;
        }

        .progress-track {
            background: #222;
            height: 20px;
            width: 100%;
            position: relative;
            border: 1px solid #444;
        }

        .progress-fill {
            background: var(--term-green);
            height: 100%;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        /* Block pattern on fill */
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(45deg, rgba(0,0,0,0.2) 25%, transparent 25%, transparent 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2) 75%, transparent 75%, transparent);
            background-size: 4px 4px;
        }

        .time-codes {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        /* --- Controls --- */
        .command-line-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .cmd-btn {
            background: transparent;
            border: 1px solid var(--term-green);
            color: var(--term-green);
            padding: 8px 16px;
            font-family: var(--font-code);
            cursor: pointer;
            text-transform: uppercase;
            font-size: 0.9rem;
            transition: all 0.2s;
            position: relative;
        }

        .cmd-btn:hover {
            background: var(--term-green);
            color: #000;
            box-shadow: 0 0 10px var(--term-green);
        }
        
        .cmd-btn::before {
            content: '[ ';
            opacity: 0.7;
        }
        .cmd-btn::after {
            content: ' ]';
            opacity: 0.7;
        }

        .cmd-btn.main {
            border: 2px solid var(--term-green);
            font-weight: bold;
        }

        /* --- Playlist (File System) --- */
        .file-system {
            border-top: 1px solid var(--term-dim);
            padding-top: 10px;
        }

        .fs-header {
            color: var(--term-dim);
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .file-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .file-item {
            display: flex;
            padding: 8px;
            cursor: pointer;
            transition: background 0.1s;
        }

        .file-item:hover {
            background: rgba(51, 255, 0, 0.1);
        }

        .file-item.active {
            background: var(--term-green);
            color: #000;
        }

        .perm-icon { margin-right: 10px; opacity: 0.5; }
        .file-name { flex: 1; }
        .file-size { font-size: 0.8rem; opacity: 0.7; }

    </style>
</head>
<body>

    <div class="crt-overlay"></div>

    <div class="monitor-case">
        <div class="monitor-screen crt-flicker">
            
            <!-- ASCII Header -->
            <div class="ascii-header">
   _____                    _____                 
  / ____|                  / ____|                
 | |  __  ___ _ __   ___ | |     ___  _   _ ___ 
 | | |_ |/ _ \ '_ \ / _ \| |    / _ \| | | / __|
 | |__| |  __/ | | | (_) | |___| (_) | |_| \__ \
  \_____|\___|_| |_|\___/ \_____\___/ \__,_|___/
  SYSTEM_VER_1.0.4
            </div>

            <!-- Visualizer / Stats -->
            <div class="system-stats">
                <div>CPU: <span id="cpuLoad">12</span>%</div>
                <div>MEM: <span id="memLoad">4096</span>KB</div>
                <div>DRV: ONLINE</div>
            </div>
            
            <div class="equalizer">
                <div class="eq-bar" style="height: 10%"></div>
                <div class="eq-bar" style="height: 30%"></div>
                <div class="eq-bar" style="height: 50%"></div>
                <div class="eq-bar" style="height: 80%"></div>
                <div class="eq-bar" style="height: 40%"></div>
                <div class="eq-bar" style="height: 20%"></div>
                <div class="eq-bar" style="height: 60%"></div>
                <div class="eq-bar" style="height: 90%"></div>
                <div class="eq-bar" style="height: 30%"></div>
            </div>

            <!-- Info -->
            <div class="track-info">
                <div class="info-label">CURRENT_EXECUTABLE:</div>
                <div class="info-value"><span id="titleDisplay">NO_AUDIO_LOADED</span><span class="cursor"></span></div>
                <br>
                <div class="info-label" style="margin-top:10px;">AUTHOR:</div>
                <div class="info-value"><span id="artistDisplay">UNKNOWN</span></div>
            </div>

            <!-- Progress -->
            <div class="progress-container" id="progressBar">
                <div class="progress-track">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="time-codes">
                    <span id="currentTime">00:00</span>
                    <span id="duration">00:00</span>
                </div>
            </div>

            <!-- Controls -->
            <div class="command-line-controls">
                <button class="cmd-btn" id="prevBtn">PREV</button>
                <button class="cmd-btn main" id="playBtn">PLAY</button>
                <button class="cmd-btn" id="stopBtn">HALT</button>
                <button class="cmd-btn" id="nextBtn">NEXT</button>
            </div>

            <!-- File List -->
            <div class="file-system">
                <div class="fs-header">DIRECTORY: /usr/music/</div>
                <ul class="file-list" id="playlist">
                    <!-- JS Injected -->
                </ul>
            </div>

        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <script>
        const songs = [
            {
                title: "I_Just_Called_To_Say_I_Love_You.mp3",
                artist: "Stevie_Wonder",
                url: "https://music.giau.info/mp3/1765329418087_I_Just_Called_To_Say_I_Love_You.mp3"
            },
            {
                title: "Another_Day_In_Paradise.mp3",
                artist: "Phil_Collins",
                url: "https://music.giau.info/mp3/1765329417208_Another_Day_In_Paradise.mp3"
            },
            {
                title: "If_Life_Is_So_Short.mp3",
                artist: "The_Moffatts",
                url: "https://music.giau.info/mp3/1765329418894_If_Life_Is_So_Short.mp3"
            }
        ];

        const audio = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const stopBtn = document.getElementById('stopBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const eqBars = document.querySelectorAll('.eq-bar');
        
        const titleDisplay = document.getElementById('titleDisplay');
        const artistDisplay = document.getElementById('artistDisplay');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const playlistEl = document.getElementById('playlist');
        
        // Random stats update
        setInterval(() => {
            document.getElementById('cpuLoad').textContent = Math.floor(Math.random() * 30) + 10;
        }, 2000);

        let currentIdx = 0;
        let isDragging = false;
        let visualizerInterval;

        function init() {
            renderPlaylist();
            loadTrack(0);
            setupEvents();
        }

        function loadTrack(index) {
            currentIdx = index;
            const song = songs[index];
            audio.src = song.url;
            
            // Typing effect simulation for title
            typeText(titleDisplay, song.title.toUpperCase());
            artistDisplay.textContent = song.artist.toUpperCase();
            
            updatePlaylistUI();
            resetProgress();
        }

        function typeText(element, text) {
            element.textContent = "";
            let i = 0;
            clearInterval(element.typingInterval);
            element.typingInterval = setInterval(() => {
                element.textContent += text.charAt(i);
                i++;
                if (i > text.length - 1) clearInterval(element.typingInterval);
            }, 30); // Typing speed
        }

        function togglePlay() {
            if (audio.paused) playAudio();
            else pauseAudio();
        }

        function playAudio() {
            audio.play();
            playBtn.textContent = "PAUSE";
            startVisualizer();
        }

        function pauseAudio() {
            audio.pause();
            playBtn.textContent = "RESUME";
            stopVisualizer();
        }

        function stopAudio() {
            pauseAudio();
            audio.currentTime = 0;
            playBtn.textContent = "PLAY";
            resetProgress();
        }

        function nextTrack() {
            currentIdx = (currentIdx + 1) % songs.length;
            loadTrack(currentIdx);
            playAudio();
        }

        function prevTrack() {
            currentIdx = (currentIdx - 1 + songs.length) % songs.length;
            loadTrack(currentIdx);
            playAudio();
        }

        function updateProgress() {
            if (!isDragging && audio.duration) {
                const percent = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = `${percent}%`;
                
                const curM = Math.floor(audio.currentTime / 60).toString().padStart(2, '0');
                const curS = Math.floor(audio.currentTime % 60).toString().padStart(2, '0');
                const durM = Math.floor(audio.duration / 60).toString().padStart(2, '0');
                const durS = Math.floor(audio.duration % 60).toString().padStart(2, '0');
                
                currentTimeEl.textContent = `${curM}:${curS}`;
                durationEl.textContent = `${durM}:${durS}`;
            }
        }

        function setProgress(e) {
            const width = progressBar.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }

        function resetProgress() {
            progressFill.style.width = '0%';
            currentTimeEl.textContent = "00:00";
            durationEl.textContent = "00:00";
        }

        // Random EQ visualizer
        function startVisualizer() {
            if(visualizerInterval) clearInterval(visualizerInterval);
            visualizerInterval = setInterval(() => {
                eqBars.forEach(bar => {
                    const h = Math.floor(Math.random() * 90) + 10;
                    bar.style.height = `${h}%`;
                    bar.classList.add('active');
                });
            }, 100);
        }

        function stopVisualizer() {
            clearInterval(visualizerInterval);
            eqBars.forEach(bar => {
                bar.style.height = '10%';
                bar.classList.remove('active');
            });
        }

        function renderPlaylist() {
            playlistEl.innerHTML = '';
            songs.forEach((song, idx) => {
                const li = document.createElement('li');
                li.className = 'file-item';
                // Fake file sizes
                const size = (Math.random() * 5 + 3).toFixed(1) + 'MB';
                li.innerHTML = `
                    <span class="perm-icon">-rwxr-xr-x</span>
                    <span class="file-name">${song.title.substring(0, 30)}</span>
                    <span class="file-size">${size}</span>
                `;
                li.onclick = () => {
                    loadTrack(idx);
                    playAudio();
                };
                playlistEl.appendChild(li);
            });
        }

        function updatePlaylistUI() {
            const items = document.querySelectorAll('.file-item');
            items.forEach((item, idx) => {
                item.classList.toggle('active', idx === currentIdx);
            });
        }

        function setupEvents() {
            playBtn.addEventListener('click', togglePlay);
            stopBtn.addEventListener('click', stopAudio);
            nextBtn.addEventListener('click', nextTrack);
            prevBtn.addEventListener('click', prevTrack);
            
            progressBar.addEventListener('click', setProgress);
            progressBar.addEventListener('mousedown', () => isDragging = true);
            progressBar.addEventListener('mouseup', () => isDragging = false);
            
            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('ended', nextTrack);
        }

        init();
    </script>
</body>
</html>