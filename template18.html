<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gilded Art Deco Player</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Palette */
            --velvet-bg: #0f0f13;
            --gold-base: #8a6e2f;
            --gold-main: #d4af37;
            --gold-highlight: #f9d76e;
            --gold-shadow: #6a5124;
            --text-pearl: #f0f0f0;
            
            /* Typography */
            --font-display: 'Abril Fatface', cursive;
            --font-deco: 'Cinzel', serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
        }

        body {
            background-color: var(--velvet-bg);
            color: var(--text-pearl);
            font-family: var(--font-deco);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* --- Sunburst Background --- */
        .sunburst-bg {
            position: absolute;
            top: 50%; left: 50%;
            width: 200%; height: 200%;
            transform: translate(-50%, -50%);
            background: repeating-conic-gradient(
                from 0deg,
                rgba(212, 175, 55, 0.03) 0deg,
                rgba(212, 175, 55, 0.03) 2deg,
                transparent 2deg,
                transparent 4deg
            );
            z-index: -2;
            animation: slowRotate 60s linear infinite;
        }

        @keyframes slowRotate {
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* --- Main Console --- */
        .deco-console {
            position: relative;
            width: 850px;
            max-width: 95%;
            background: linear-gradient(135deg, #1a1a1a, #000);
            border: 4px solid transparent;
            /* Double Border Effect using border-image or pseudo elements */
            padding: 40px;
            /* Art Deco Stepped Shape */
            clip-path: polygon(
                20px 0, 100% 0, 
                100% calc(100% - 20px), calc(100% - 20px) 100%, 
                0 100%, 0 20px
            );
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            z-index: 1;
        }

        /* Gold Border Frame */
        .gold-frame {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            border: 2px solid var(--gold-main);
            box-shadow: inset 0 0 20px var(--gold-shadow);
            /* Match the clip-path of parent */
            clip-path: polygon(
                20px 0, 100% 0, 
                100% calc(100% - 20px), calc(100% - 20px) 100%, 
                0 100%, 0 20px
            );
        }

        /* Decorative Inner Border */
        .gold-frame::after {
            content: '';
            position: absolute;
            top: 10px; left: 10px; right: 10px; bottom: 10px;
            border: 1px solid var(--gold-base);
        }

        /* --- Left Section: The Stage --- */
        .stage-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-right: 1px solid var(--gold-base);
            padding-right: 40px;
        }

        /* The Gilded Record */
        .record-container {
            width: 280px;
            height: 280px;
            position: relative;
            margin-bottom: 30px;
        }

        .gold-disc {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                var(--gold-base) 0%, 
                var(--gold-main) 25%, 
                var(--gold-base) 50%, 
                var(--gold-main) 75%, 
                var(--gold-base) 100%
            );
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.8),
                inset 0 0 20px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: transform 0.5s ease;
        }

        /* Record grooves */
        .gold-disc::before {
            content: '';
            position: absolute;
            width: 85%; height: 85%;
            border-radius: 50%;
            border: 1px solid rgba(0,0,0,0.1);
            box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
        }

        /* The Label */
        .record-label {
            width: 40%;
            height: 40%;
            background: #1a1a1a;
            border-radius: 50%;
            border: 2px solid var(--gold-highlight);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        
        .record-label svg {
            fill: var(--gold-highlight);
            width: 40px; height: 40px;
        }

        /* Spin Animation */
        .stage-section.playing .gold-disc {
            animation: spinRecord 4s linear infinite;
        }

        @keyframes spinRecord {
            100% { transform: rotate(360deg); }
        }

        /* Track Typography */
        .track-info-deco {
            text-align: center;
            margin-bottom: 20px;
        }

        .song-title-deco {
            font-family: var(--font-display);
            font-size: 2.5rem;
            color: var(--gold-highlight);
            line-height: 1.1;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .artist-name-deco {
            font-size: 1rem;
            letter-spacing: 3px;
            color: #aaa;
            text-transform: uppercase;
            border-top: 1px solid var(--gold-base);
            border-bottom: 1px solid var(--gold-base);
            padding: 5px 20px;
            display: inline-block;
        }

        /* Progress - Thin Gold Line */
        .deco-progress {
            width: 100%;
            height: 4px;
            background: #333;
            position: relative;
            margin-top: 20px;
            border-radius: 2px;
            cursor: pointer;
        }

        .deco-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-base), var(--gold-highlight));
            width: 0%;
            box-shadow: 0 0 10px var(--gold-main);
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--gold-base);
            margin-top: 5px;
            font-family: var(--font-deco);
        }

        /* --- Right Section: Controls & Playlist --- */
        .controls-section {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding-left: 10px;
        }

        /* Gemstone Buttons */
        .gem-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .btn-gem {
            background: linear-gradient(135deg, var(--gold-main), var(--gold-shadow));
            border: 1px solid #fff;
            color: #000;
            width: 60px;
            height: 60px;
            /* Diamond Shape */
            transform: rotate(45deg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn-gem svg {
            transform: rotate(-45deg); /* Counter rotate icon */
            fill: #1a1a1a;
            width: 24px; height: 24px;
        }

        .btn-gem:hover {
            transform: rotate(45deg) scale(1.1);
            box-shadow: 0 0 15px var(--gold-highlight);
        }
        
        .btn-gem:active {
            transform: rotate(45deg) scale(0.9);
        }

        .btn-main-play {
            width: 90px; height: 90px;
            background: linear-gradient(135deg, #fff, #ddd);
            z-index: 2;
        }
        
        .btn-main-play svg {
            width: 36px; height: 36px;
        }

        /* Playlist Panel */
        .playlist-panel {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--gold-base);
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .panel-header-deco {
            text-align: center;
            color: var(--gold-main);
            font-size: 0.9rem;
            margin-bottom: 15px;
            letter-spacing: 2px;
            border-bottom: 1px solid var(--gold-base);
            padding-bottom: 5px;
        }

        .deco-list {
            list-style: none;
            overflow-y: auto;
            flex-grow: 1;
        }

        .deco-item {
            padding: 10px 15px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            position: relative;
        }

        .deco-item::before {
            content: 'â™¦';
            color: var(--gold-base);
            margin-right: 10px;
            font-size: 0.8rem;
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        .deco-item:hover {
            background: rgba(212, 175, 55, 0.1);
            padding-left: 20px;
        }

        .deco-item.active {
            background: linear-gradient(90deg, rgba(212, 175, 55, 0.2), transparent);
            border-left: 3px solid var(--gold-highlight);
        }

        .deco-item.active::before {
            opacity: 1;
            color: var(--gold-highlight);
        }

        .song-list-title {
            font-family: var(--font-deco);
            font-size: 0.9rem;
            color: var(--text-pearl);
        }

        /* Scrollbar */
        .deco-list::-webkit-scrollbar { width: 4px; }
        .deco-list::-webkit-scrollbar-thumb { background: var(--gold-base); }

        /* Responsive */
        @media (max-width: 800px) {
            .deco-console {
                grid-template-columns: 1fr;
                height: auto;
                margin: 20px 0;
                clip-path: none; /* Simpler shape on mobile */
                border-radius: 4px;
            }
            .stage-section {
                border-right: none;
                border-bottom: 1px solid var(--gold-base);
                padding-bottom: 40px;
                padding-right: 0;
            }
            .gold-disc {
                width: 200px; height: 200px;
            }
        }
    </style>
</head>
<body>

    <div class="sunburst-bg"></div>

    <main class="deco-console">
        <div class="gold-frame"></div>

        <!-- Left: Stage -->
        <section class="stage-section" id="stageSection">
            
            <div class="record-container">
                <div class="gold-disc">
                    <div class="record-label">
                        <svg id="playIconSVG" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        <svg id="pauseIconSVG" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                    </div>
                </div>
            </div>

            <div class="track-info-deco">
                <h1 class="song-title-deco" id="decoTitle">Selection...</h1>
                <div class="artist-name-deco" id="decoArtist">Awaiting</div>
            </div>

            <div class="deco-progress" id="progressContainer">
                <div class="deco-progress-fill" id="progressFill"></div>
            </div>
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="duration">0:00</span>
            </div>

        </section>

        <!-- Right: Controls -->
        <section class="controls-section">
            
            <div class="gem-panel">
                <button class="btn-gem" id="prevBtn">
                    <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                </button>
                <button class="btn-gem btn-main-play" id="playBtn">
                    <!-- Icon changes via JS logic on label, actually controlled by SVG in disc mostly, but let's sync -->
                </button>
                <button class="btn-gem" id="nextBtn">
                    <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                </button>
                <button class="btn-gem" id="stopBtn" style="width: 40px; height: 40px; background: #333; border-color: #555;">
                    <svg style="fill:var(--gold-main);" viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
                </button>
            </div>

            <div class="playlist-panel">
                <div class="panel-header-deco">~ PHONOGRAPH LIBRARY ~</div>
                <ul class="deco-list" id="decoList">
                    <!-- JS Populated -->
                </ul>
            </div>

        </section>
    </main>

    <script>
        const tracks = [
            {
                title: "I Just Called To Say I Love You",
                artist: "Stevie Wonder",
                url: "https://music.giau.info/mp3/1765329418087_I_Just_Called_To_Say_I_Love_You.mp3"
            },
            {
                title: "Another Day In Paradise",
                artist: "Phil Collins",
                url: "https://music.giau.info/mp3/1765329417208_Another_Day_In_Paradise.mp3"
            },
            {
                title: "If Life Is So Short",
                artist: "The Moffatts",
                url: "https://music.giau.info/mp3/1765329418894_If_Life_Is_So_Short.mp3"
            }
        ];

        let currentIndex = 0;
        let isPlaying = false;
        const audio = new Audio();

        // DOM
        const stageSection = document.getElementById('stageSection');
        const playBtn = document.getElementById('playBtn');
        const stopBtn = document.getElementById('stopBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const playIconSVG = document.getElementById('playIconSVG');
        const pauseIconSVG = document.getElementById('pauseIconSVG');
        const decoTitle = document.getElementById('decoTitle');
        const decoArtist = document.getElementById('decoArtist');
        const progressFill = document.getElementById('progressFill');
        const progressContainer = document.getElementById('progressContainer');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const decoList = document.getElementById('decoList');

        function init() {
            renderList();
            loadTrack(0);

            playBtn.addEventListener('click', togglePlay);
            stopBtn.addEventListener('click', stopTrack);
            prevBtn.addEventListener('click', prevTrack);
            nextBtn.addEventListener('click', nextTrack);

            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('loadedmetadata', () => {
                durationEl.innerText = formatTime(audio.duration);
            });
            audio.addEventListener('ended', nextTrack);

            progressContainer.addEventListener('click', (e) => {
                const rect = progressContainer.getBoundingClientRect();
                const pos = (e.clientX - rect.left) / rect.width;
                audio.currentTime = pos * audio.duration;
            });
        }

        function renderList() {
            decoList.innerHTML = '';
            tracks.forEach((track, idx) => {
                const li = document.createElement('li');
                li.className = 'deco-item';
                li.innerHTML = `
                    <span class="song-list-title">${track.title}</span>
                    <div style="width: 10px; height: 10px; border: 1px solid var(--gold-base); border-radius: 50%;"></div>
                `;
                li.addEventListener('click', () => {
                    if (currentIndex === idx && isPlaying) {
                        pauseTrack();
                    } else {
                        loadTrack(idx);
                        playTrack();
                    }
                });
                decoList.appendChild(li);
            });
        }

        function loadTrack(index) {
            currentIndex = index;
            const track = tracks[index];
            audio.src = track.url;
            
            decoTitle.innerText = track.title;
            decoArtist.innerText = track.artist;
            
            progressFill.style.width = "0%";
            currentTimeEl.innerText = "0:00";
            
            updateListUI();
        }

        function togglePlay() {
            if (isPlaying) pauseTrack();
            else playTrack();
        }

        function playTrack() {
            const p = audio.play();
            if (p !== undefined) {
                p.then(() => {
                    isPlaying = true;
                    stageSection.classList.add('playing');
                    playIconSVG.style.display = 'none';
                    pauseIconSVG.style.display = 'block';
                }).catch(e => console.error(e));
            }
        }

        function pauseTrack() {
            audio.pause();
            isPlaying = false;
            stageSection.classList.remove('playing');
            playIconSVG.style.display = 'block';
            pauseIconSVG.style.display = 'none';
        }

        function stopTrack() {
            pauseTrack();
            audio.currentTime = 0;
            updateProgress();
        }

        function prevTrack() {
            let idx = currentIndex - 1;
            if (idx < 0) idx = tracks.length - 1;
            loadTrack(idx);
            playTrack();
        }

        function nextTrack() {
            let idx = currentIndex + 1;
            if (idx >= tracks.length) idx = 0;
            loadTrack(idx);
            playTrack();
        }

        function updateProgress() {
            if (audio.duration) {
                const pct = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = `${pct}%`;
                currentTimeEl.innerText = formatTime(audio.currentTime);
            }
        }

        function formatTime(s) {
            if (!s || isNaN(s)) return "0:00";
            const m = Math.floor(s / 60);
            const sec = Math.floor(s % 60);
            return `${m}:${sec < 10 ? '0' : ''}${sec}`;
        }

        function updateListUI() {
            const items = document.querySelectorAll('.deco-item');
            items.forEach((item, idx) => {
                if (idx === currentIndex) item.classList.add('active');
                else item.classList.remove('active');
            });
        }

        init();
    </script>
</body>
</html>